# -----------------------------------------------------------------------------
# Pyroswiki — environment configuration
# Copy to .env and fill in real values before starting the server.
# -----------------------------------------------------------------------------

# ── Application ───────────────────────────────────────────────────────────────

APP_NAME=Pyroswiki
ENVIRONMENT=production
DEBUG=false

# Public URL of the API (used in attachment URLs, CORS, etc.)
# API is exposed externally on port 8443 (nginx) → internally on 8621 (uvicorn)
BASE_URL=https://pyroswiki.performiq.com:8443

# ── Database ──────────────────────────────────────────────────────────────────

DATABASE_URL=postgresql+asyncpg://pyroswiki:CHANGE_ME@localhost:5432/pyroswiki

# ── Auth / JWT ────────────────────────────────────────────────────────────────

# Generate with: python3 -c "import secrets; print(secrets.token_hex(64))"
SECRET_KEY=CHANGE-ME-IN-PRODUCTION-use-a-random-64-char-hex-string
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=480
REFRESH_TOKEN_EXPIRE_DAYS=30

# ── Storage ───────────────────────────────────────────────────────────────────

ATTACHMENT_ROOT=/opt/pyroswiki/data/attachments
MAX_ATTACHMENT_BYTES=52428800

# ── Wiki defaults ─────────────────────────────────────────────────────────────

DEFAULT_WEB=Main
SITE_NAME=Pyroswiki
ADMIN_EMAIL=admin@performiq.com

# Set to false to prevent public self-registration (admins can still create users)
ALLOW_REGISTRATION=false

# ── CORS ──────────────────────────────────────────────────────────────────────
# The web UI origin that is allowed to call the API.
# Must include the web UI's public URL (no trailing slash).

CORS_ORIGINS=["https://pyroswiki.performiq.com"]
